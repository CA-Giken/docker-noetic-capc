def SUB_122():
  global _hidden_verificationVariable=0
  set_gravity([0.0, 0.0, 9.82])
  set_tcp(p[0.0,0.08,0.42,0.0,0.0,0.0])
  set_safety_mode_transition_hardness(1)
  set_tool_communication(False, 115200, 0, 1, 1.5, 3.5)
  set_tool_output_mode(0)
  set_tool_digital_output_mode(0, 1)
  set_tool_digital_output_mode(1, 1)
  set_tool_voltage(0)
  set_standard_analog_input_domain(0, 1)
  set_standard_analog_input_domain(1, 1)
  set_tool_analog_input_domain(0, 1)
  set_tool_analog_input_domain(1, 1)
  set_analog_outputdomain(0, 0)
  set_analog_outputdomain(1, 0)
  set_input_actions_to_default()
  set_runstate_gp_boolean_output_to_value(0, 3)
  set_target_payload(0.100000, [0.135000, 0.000000, 0.225000], [10.000000, 10.000000, 10.000000, 0.000000, 0.000000, 0.000000])
  global isReCapt=False
  global Bucket_Z=[-0.1, 0.8]
  global DistPillar=-1.67122
  global CandCnt=1
  global lr=0
  global ReCaptZ=0.05
  global forceval=p[0, 0, 0, 0, 0, 0]
  global CaptDepth=[0.1, 0.085, 0]
  global port=3000
  global isOnlyF=True
  global retX2=p[10000, 0, 0, 0, 0, 0]
  global socket_timeout=120
  global isSkipP=False
  global curpos=p[0, 0, 0, 0, 0, 0]
  global host="192.168.1.2"
  global is_popup=False
  global CaptZOffset=0.05
  global isGoHome=True
  global i_pos2=p[-0.73434, -0.19521, 0.15197, 2.07542, 2.11486, 0.26359]
  global i_pos1=p[-0.7342, -0.19552, 0.15252, 2.07535, 2.11469, 0.26315]
  global pBucket=[p[0.83345, 0.46485, 0.35889, 0, 0, -1.5764], p[-0.79281, -0.52441, 0.35464, 0, 0, 1.53825], p[0, 0, 0, 0, 0, 0]]
  global CaptStepZ=0.08
  global CaptIndex=[1, 1, 0]
  global CaptStepX=0.432
  global pBucketM=p[-0.76064, -0.49997, 0.35503, 0, 0, 1.57135]
  global socket_name="vt"
  global rovi_err=922
  global SubPrgResult=100
  global CurrPos=p[-0.05039, -0.6632, 0.52874, -0.0215, -3.14101, -0.00052]
  global CurrPos_p=p[-0.04951, -0.58307, 0.10876, -0.0215, -3.14101, -0.00052]
  global ForceStartZ=0.39719
  global CutOffZ=0.09
  global HomeDistTh=0.05
  global RBDistTh=0.05
  global RBRadiusTh=0.3
  global RBXTh=[-0.5, 0.5]
  global RBYTh=[-0.8, 1]
  global RBZTh=[-0.1, 0.1]
  global Sub3100_ZMax=0.74
  global ForceStartX=-0.90368
  global Sub3100_aRot=0.2
  global Sub3100_d=0.3
  global Sub3100_Option=2
  global Sub3100_a=0.2
  global Sub3100_XdV=0.1
  global Sub3100_XdRot=8
  global ZoneDistTh=0.05
  global ZoneRadiusTh=0.3
  global ZoneXTh=[-0.5, 0.5]
  global ZoneYTh=[-0.8, 1]
  global ZoneZTh=[-0.1, 0.1]
  global BucketWidth=0.95
  global ZoneBucketGap=0
  global ZoneHomeX=0.2
  global UnloadZ=0.05
  global CaptPos=p[0.25373, -0.42578, -0.00503, 3.14135, 0.03459, 0.00015]
  global BucketUpperPos=p[0.47573, -0.4259, 0.04497, 3.14138, 0.03448, 0.00005]
  global Sub3100_GPII18=2
  global Zone6ThX=0.1
  global Zone6ThY=0.05
  global pCV=p[0, 0, 0, 0, 0, 0]
  global Bucket=p[0.32604,0.49174,0.0,-1.882900624652718E-5,2.8304179127934987E-5,-1.593185305749222]
  global BucketM=p[0.32604,0.49174,0.0,2.2353980716304163E-16,-3.5868426080024975E-16,-1.5931853071795856]
  global CV=p[0.0,0.0,0.0,0.0,0.0,0.0]
  global CaptPoint_C=p[-0.335,-0.024,0.4,-2.196299060524223,-2.2462891909035143,-5.664484063487096E-5]
  global CaptPoint_C2=p[0.32796661698047924,-0.010768520544682924,0.01931625281283378,2.2288103429550152,-2.213636886217198,8.598462540813273E-5]
  global CaptPoint_L=p[-0.335,-0.246,0.4,-2.1962012732824228,-2.246352675070566,-1.646578372162058E-4]
  global CaptPoint_L2=p[0.327894307417917,-0.010799940826224014,0.01928712668893995,2.087717047309385,-2.0736781215133306,0.27365839887453103]
  global CaptPoint_R=p[-0.335,0.246,0.4,-2.1963444166345645,-2.2462256265309297,2.4676186941162578E-5]
  global CaptPoint_R2=p[0.327926308680866,-0.010795166414457658,0.019300245403843563,-2.1186306375223185,2.1040550557443427,0.22023197678473694]
  global Capt_1BK_L=p[-0.395,-0.47,0.35,-2.1961210242572884,-2.2463362846055,-2.908274762447041E-4]
  global Capt_1BK_R=p[-0.395,0.51,0.35,2.196067754706757,2.246288285862388,2.8411291050601595E-5]
  global Capt_1BK_pos1=p[-0.4218793038724447,-0.003154429464978058,0.2915499891144615,-2.1963422029204875,-2.2438663520270015,-0.02197160668673838]
  global Capt_1BK_pos2=p[-0.42187829024618434,-0.0031710253373066375,0.29156503858953065,-2.196324918349679,-2.2439040699490773,-0.021928444416953782]
  global Capt_2BK_L=p[0.42186661528427194,0.4254738068040517,0.35042275762909847,2.239156309475874,-2.1837044610999294,0.002643817066643282]
  global Capt_2BK_R=p[0.4218208572756906,-0.5427676723257963,0.350372239919558,2.2392697861179327,-2.183553596194912,0.002410470905346486]
  global Capt_2BK_pos1=p[0.42193501458435656,0.004742683868356356,0.35045865974037793,2.2391012408536453,-2.1839704655717003,0.002677867056024068]
  global Capt_2BK_pos2=p[0.421903984494575,0.004707988774967922,0.35045218900915065,2.239114367170047,-2.183895515396197,0.002684056681074047]
  global Capt_CV_M=p[-0.04794223960540197,-0.559868557160475,0.1086937653706071,-0.022464429848058916,-3.141454018347238,4.0166993855964835E-4]
  global Capt_GD_M=p[-0.004053197679954899,-0.25261725691632436,-0.01970497430780127,0.0332779454553888,-3.140179196376707,-0.0034093680964018282]
  global HomePointL=p[-0.36789,-0.5117344641471838,0.78,-0.6278857271586024,3.0680899128661667,-8.649957362498864E-4]
  global Master_pos=p[-0.002900061250386237,-0.3308544176418705,0.08247088152898924,-0.022398151655969412,-3.1414279476897704,4.608357258864606E-4]
  global PickPos=p[0.10830682331105715,-1.3709505888096256,-0.18404188875951455,-0.00622194000158997,2.880236948927292,-0.00383636509397631]
  global Solve=p[-0.00368,-0.0021000000000000003,0.25739999999999996,0.0,0.0,0.0]
  global TCP3100TL=p[0.0,0.06,0.535,1.8939999999999997,0.0,0.0]
  global TEST=p[0.1,0.0,0.2,0.0,0.0,0.0]
  global UF=p[0.0,0.0,0.0,0.0,0.0,0.0]
  global g1CV_1_M=p[0.29093319989156785,-0.9405344885124904,-0.08686754932079166,1.9884186265311852,2.2323374792844253,0.1524643645929425]
  global g1CV_posL1=p[0.05028133628211688,-0.4526481033729615,0.1221845548632916,-2.213335080948508,-2.1937561336067057,-0.3280056759040735]
  global g1CV_posR1=p[0.03743870476062511,-0.53119407812668,0.11301901343688614,2.073418671558482,2.153257467049566,0.11656306439039889]
  global g1GD_pos1=p[0.06837259172124714,-0.5455518524869427,0.36706199787419547,-2.5775773432073312,-1.7958067018538382,3.030997348044021E-5]
  global g1GD_pos2=p[0.06838772140470781,-0.5455736997413498,0.3671086150887749,2.4109085778803876,1.795859110102632,0.12543092350975993]
  global g1GD_pos3=p[-0.1945307709581842,-0.42906455111749103,0.3477730244057108,-2.6857091910446873,-1.629755778747677,7.112239932997783E-5]
  global g1GD_pos4=p[-0.25628841794770224,-0.020630481098425146,0.3605541636893565,2.1487167252298436,2.2918109407315446,-1.3854923233718194E-5]
  global g1GD_pos5=p[-0.714365317693782,-0.022971007293656684,0.36247533462155956,-2.1476725881724037,-2.2927719582668304,6.311234329313096E-5]
  global g1GD_posL1=p[-0.08276848269606216,-0.3996147100031649,0.1488453551331823,2.286527078917204,1.8420745504477611,0.33698451773695576]
  global g1GD_posL2=p[-0.3253977027403738,-0.3024804624281039,0.16332814085945146,2.72312820760317,0.9631021078169197,0.32447452035226126]
  global g1GD_posL3=p[-0.6791033397183219,0.06787475590683856,0.16337212788108813,2.1383125299263996,2.086116032377724,0.4536080263755059]
  global g1GD_posR1=p[-0.09893370538053747,-0.4999608954567234,0.14329885217724153,2.43311852414254,1.4238397520832589,0.08559216753941556]
  global g1GD_posR2=p[-0.3729565201882258,-0.3752983669473301,0.143299052800563,2.6951655216297596,0.8130506811102118,-0.02387549506099888]
  global g1GD_posR3=p[-0.7385929502572233,-0.029472684480355026,0.1499650660949685,2.0484522752014467,1.9493695704119496,0.18368227556562683]
  global g2CV_1_M=p[0.25427585718416673,-0.9629961306418978,-0.023365840433245133,2.2206809381038264,2.2220626254273776,-1.9799346468109236E-5]
  global g2CV_posL1=p[0.3409386496330911,-0.4656338066361442,0.1250074988128972,2.209372209162659,2.1945371304665926,0.3160714960040194]
  global g2CV_posR1=p[0.3400736278759575,-0.531334269888987,0.1183415684753657,2.07314649492589,2.1532617466521136,0.11638666128062146]
  global g2GD_pos1=p[0.3018425985914231,-0.511181438641243,0.2037837927478034,-2.0708462594001578,-2.3624462221240874,6.10603932789243E-5]
  global g2GD_pos2=p[0.4140891885236144,0.14850105084950693,0.1582916370575993,-0.10302503203970696,3.1008909166713883,0.18748967846962497]
  global g2GD_pos3=p[0.32377086541216454,-0.01023215987367155,0.15821240334102793,2.279746475463588,-2.06129961332614,-0.16578334012307952]
  global g2GD_pos4=p[0.6208616703282832,0.04629411963393682,0.22085448164492516,-2.186160224073754,2.2561410268960165,7.723149676554258E-6]
  global g2GD_pos5=p[0.33187574400375447,0.09057808108406575,0.21274338877489507,0.8420871661834,-3.0261125580307184,-0.005220174917684261]
  global gCV_11_M=p[0.27458092838097625,-0.9634709900409619,-0.027246106999398,2.1579958677359365,2.061920489504824,0.29122365164018676]
  global gCV_12_M=p[0.32374082043819774,-0.9643905557999398,-0.025487605485889797,2.171002695191275,2.0268053402328294,0.3318967209792993]
  global gCV_13_M=p[0.3677028242565019,-0.8912043588518235,0.06406475497489328,2.0725171273330782,1.9964853271438565,0.36457536397978224]
  global gCV_14=p[0.35645641620611146,-0.8914305774826713,-0.17737239800677018,2.1506886654737776,2.1461343800624295,0.40986447399780934]
  global gCV_15=p[0.4370373250739419,-0.891408661166693,-0.1773997714481486,2.1507483614991094,2.1461657601704176,0.40983132876462236]
  global gCV_16=p[0.4597123429384979,-0.8913837618729653,-0.03599504377258328,2.1506156333226136,2.1462305295546718,0.4099109158136618]
  global gCV_17=p[0.037528034463104695,-0.6904892259828748,-0.12243237639232962,-0.12012393052395552,2.832430475095037,0.48967048060305135]
  global gCV_18=p[0.03600103065313248,-0.6368623043127666,-0.12241687036449483,-0.12010351348807546,2.832474314609516,0.48970816626953567]
  global gCV_2_M=p[0.2533471161659082,-0.9538280156244117,0.053347089211651155,2.2211302871500327,2.221672468159851,6.057343292863739E-5]
  global gCV_3_M=p[0.29099390607376485,-0.6570558385379063,0.0722153583041818,1.9884242634571576,2.2321538498123994,0.15249643504377583]
  global gCV_5=p[0.045776199142861046,-0.9791473230816141,0.8415069045351792,2.0229894037377316,2.080009888728606,0.35618099403901887]
  global gCV_pos5=p[0.3400172856834047,-0.9722754606605235,-0.18287928563575456,2.073394561413637,2.1531827558666565,0.11639000988241816]
  global gGD_100_1LM=p[0.04146780808756359,-0.6870904124925177,-0.1232943093634104,-0.006305250057386166,-2.863965809273829,-0.5082528300185785]
  global gGD_1_LM=p[0.023694495567209206,-0.7289549597812236,-0.114436637727933,-0.010169347158913183,2.8707671818561686,0.2884627079222755]
  global gGD_1_M=p[0.023465033498111344,-0.7266069947313496,-0.114063572547692,-0.02957171388996286,-3.1242906749658705,-0.31017837385641756]
  global gGD_1_MM=p[0.025400458185448213,-0.6216049814301073,0.010176266954312452,0.03131467408099384,3.0782064649052026,0.5315951524792814]
  global gGD_1_RM=p[0.02362723078317132,-0.7265300624800513,-0.11281451079208593,-0.06253229749015159,-2.8808212567082383,-0.28238046714011716]
  global gGD_200_2LM=p[0.04175812558137225,-0.6358261219893102,-0.12285474020423298,-0.006257718193554584,-2.863964784148567,-0.5084621939645108]
  global gGD_2_LM=p[0.024174132054917155,-0.6705540375362067,-0.11458821415948689,-0.01017914088038848,2.87086541323498,0.2882827167190487]
  global gGD_2_M=p[0.023891548276160204,-0.6721896307283143,-0.11405798252635202,-0.029537226830795685,-3.1242353369640576,-0.3100661332499525]
  global gGD_2_RM=p[0.02429249604336059,-0.6691638128218599,-0.11302949794491796,-0.06253008389277033,-2.8809170794832206,-0.2823080231602885]
  global gGD_300_3LM=p[0.04182050265947469,-0.6066076810742604,-0.03602288107395374,-0.006290924000441408,-2.8640915241774816,-0.5083501301248439]
  global gGD_3_LM=p[0.02414949255188298,-0.6344183862527816,-0.0037208795646377912,-0.010168403617012718,2.8708622039997236,0.2881723112066594]
  global gGD_3_M=p[0.023938978441106873,-0.6361306661281794,-0.005216445129412717,-0.029429851638448117,-3.124169609374898,-0.3100490421418616]
  global gGD_3_RM=p[0.02427953911879352,-0.6347229115915235,-0.00845845992375066,-0.062415244957792,-2.8809080008278363,-0.2823877130468298]
  global gGD_400_1RM=p[0.03765496539143813,-0.6905733748742057,-0.12240702670509729,-0.12009639012349203,2.8324503628258273,0.48945657912051843]
  global gGD_4_LM=p[-0.13392335187955065,-0.6344803649065911,-0.0037136245468408213,-0.010275815533329662,2.870789822911173,0.28804870395232834]
  global gGD_4_RM=p[0.1795696920766954,-0.6347882075764175,-0.008406331206949391,-0.06238117315006443,-2.880942718998137,-0.282211032173393]
  global gGD_500_2RM=p[0.0364038044475721,-0.6361408639594927,-0.1228896102948493,-0.12001814478849077,2.8324363686538967,0.4895422385690364]
  global gGD_600_3RM=p[0.03597788557419286,-0.6039591135870097,-0.03251312847845622,-0.12016380804709932,2.832584395249392,0.4895204315491753]
  global gGD_M_20=p[0.03524102305764369,-0.704963855446233,-0.12310321086399345,-0.05961230604660993,3.0873078767639504,0.5414261100507907]
  global gGD_M_30=p[0.03527181411394771,-0.6949613298581867,-0.12309199448652725,-0.05962447301074729,3.087287038166274,0.5412100180254447]
  global gGD_M_40=p[0.035236425258241534,-0.6834410208824955,-0.12309554834290798,-0.05953064339288712,3.087315110349415,0.5412921265180426]
  global gHome_Position=p[-0.002884216431119573,-0.33081338952181766,0.10869836126442783,-0.022308300881783188,-3.141473239616493,3.9861399141130865E-4]
  global gTAIHI_pos1=p[0.034435296708333146,-0.2890869270984411,0.28697762766096685,-0.9517096680276043,2.9907327255336362,-0.006242657270483182]
  global gTAIHI_pos2=p[0.46041690381401934,0.09562026346103787,0.3409455343940188,-2.575428180750575,1.7504967205574518,-0.009370784990557466]
  global gTAIHI_pos3=p[0.4777514786587304,0.10855417509450788,0.25667938190447326,-3.115092130529677,-0.059113053813058626,0.017060902648732133]
  global gTAIHI_pos4=p[0.47773948064032057,0.10853581553326999,-0.15133852019421468,-3.1151611852917296,-0.05914313994407087,0.017149581050184888]
  global gTAIHI_pos5=p[0.30588450070104545,0.17870028478253597,-0.38750721344025674,-3.115302721311487,-0.05927431563397507,0.01725874757592571]
  rtde_set_watchdog("speed_slider_mask", 10.0, "ignore")
  # begin: URCap Installation Node
  #   Source: Ethernet/IP I/O Monitor URCap, 1.0.0, 
  #   Type: Ethernet/IP I/O Monitor
  conn = rpc_factory("xmlrpc", "http://127.0.0.1:" + to_str(61101) + "/RPC2")
  
  def show_monitor():
    return conn.eip_monitor.show()
  end
  # end: URCap Installation Node
  step_count_83e2bf3c_65df_40d3_b83b_f65425fe75b7 = 0.0
  thread Step_Counter_Thread_efc31684_ea43_4059_9fe4_09a2c410d9f2():
    while (True):
      step_count_83e2bf3c_65df_40d3_b83b_f65425fe75b7 = step_count_83e2bf3c_65df_40d3_b83b_f65425fe75b7 + 1.0
      sync()
    end
  end
  run Step_Counter_Thread_efc31684_ea43_4059_9fe4_09a2c410d9f2()
  global tm_landed=0
  global tm_landed_is_counting=False
  thread Timer_Thread():
    while (True):
      if (tm_landed_is_counting):
        tm_landed = tm_landed + get_steptime()
      end
      sync()
    end
  end
  run Timer_Thread()
  while (True):
    $ 2 "ロボットプログラム"
    $ 4 "設定 GPBO_BLStart=HI:Pulse 1.0"
    thread SinglePulse367():
      write_output_boolean_register(15, True)
      sleep(1.0)
      write_output_boolean_register(15, False)
    end
    singlePulse367 = run SinglePulse367()
    $ 5 "荷重の設定: Payload_1"
    set_target_payload(0.100000, [0.135000, 0.000000, 0.225000], [0.500000, 0.500000, 0.500000, 0.000000, 0.000000, 0.000000])
    $ 6 "ForceStartZ:=CurrPos[2]"
    global ForceStartZ=CurrPos[2]
    $ 7 "tm_landed: リセット"
    tm_landed = 0
    $ 8 "tm_landed: 起動"
    tm_landed_is_counting = True
    $ 9 "フォース"
    sleep(0.02)
    zero_ftsensor()
    force_mode(CV, [1, 1, 1, 0, 1, 0], [0.0, 0.0, -40.0, 0.0, 0.0, 0.0], 2, [0.005, 0.005, 0.02, 0.3490658503988659, 0.03490658503988659, 0.3490658503988659])
    $ 11 "待機 GPII_TMLanded<tm_landed or GPBI_BLLoad0 or CurrPos[2]<ForceStartZ-UnloadZ" "noBreak"
    while (not(read_input_integer_register(14)<tm_landed  or  read_input_boolean_register(8)  or  CurrPos[2]<ForceStartZ-UnloadZ)):
      sync()
    end
    $ 12 "待機: 0.5" "noBreak"
    sleep(0.5)
    end_force_mode()
    stopl(5.0)
    $ 15 "end_force_mode()"
    end_force_mode()
    $ 16 "tm_landed: 停止"
    tm_landed_is_counting = False
    $ 17 "If文 ( not GPBI_BLLoad0)"
    if ((  not  read_input_boolean_register(8))):
      $ 18 "SubPrgResult:=824"
      global SubPrgResult=824
      $ 19 "待機: 999999.0"
      sleep(999999.0)
    end
    $ 20 "荷重の設定: k10"
    set_target_payload(0.100000, [0.135000, 0.000000, 0.225000], [10.000000, 10.000000, 10.000000, 0.000000, 0.000000, 0.000000])
    $ 21 "MoveL"
    $ 22 "待機: 1.0"
    sleep(1.0)
    $ 23 "gCV_11_M" "breakAfter"
    set_tcp(p[0.0,0.08,0.42,0.0,0.0,0.0])
    movel(pose_trans(CV, gCV_11_M), a=0.03, v=0.03)
    $ 24 "gCV_12_M" "breakAfter"
    set_tcp(p[0.0,0.08,0.42,0.0,0.0,0.0])
    movel(pose_trans(CV, gCV_12_M), a=0.07, v=0.2)
    $ 25 "設定 GPBO_Released=HI:Pulse 3.0"
    thread SinglePulse368():
      write_output_boolean_register(17, True)
      sleep(3.0)
      write_output_boolean_register(17, False)
    end
    singlePulse368 = run SinglePulse368()
    $ 26 "MoveL"
    $ 29 "gCV_13_M" "breakAfter"
    set_tcp(p[0.0,0.08,0.42,0.0,0.0,0.0])
    movel(gCV_13_M, a=0.2, v=0.5)
  end
end
