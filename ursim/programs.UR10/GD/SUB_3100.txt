 プログラム
   変数設定
   ロボットプログラム
     ループ
       Sub3100_Option:=Sub3100_GPII18
       If文 (Sub3100_Option≤14)
         'MOVE'
         If文 GPBI_PrgRun
           設定 GPBO_PrgRun= True 
           If文 GPBI_BLLoad1
             If文 (1≤Sub3100_Option and Sub3100_Option≤4)
               荷重の設定: k10
             ElseIf (5≤Sub3100_Option and Sub3100_Option≤6)
               荷重の設定: k120
             ElseIf (7≤Sub3100_Option and Sub3100_Option≤12)
               荷重の設定: k10
             ElseIf (13≤Sub3100_Option and Sub3100_Option≤14)
               荷重の設定: k10
           Else
             If文 (1≤Sub3100_Option and Sub3100_Option≤4)
               荷重の設定: k10
             ElseIf (5≤Sub3100_Option and Sub3100_Option≤6)
               荷重の設定: k120
             ElseIf (7≤Sub3100_Option and Sub3100_Option≤12)
               荷重の設定: k10
             ElseIf (13≤Sub3100_Option and Sub3100_Option≤14)
               荷重の設定: k10
           ループ
             Sub3100_Xd:=[0.,0.,0.,0.,0.,0.]
             Sub3100_q:=floor((Sub3100_Option-1) / 2)
             Sub3100_e:=1-((Sub3100_Option-1) % 2)*2
             Sub3100_t:=0.5
             If文 (1≤Sub3100_Option and Sub3100_Option≤6)
               '1:X+,2:X-,3:Y+,4:Y-,5:Z+,6:Z-'
               Sub3100_Xd[Sub3100_q]=Sub3100_XdV*Sub3100_e
               If文 Sub3100_Option≟5
                 If文 CurrPos[2]<Sub3100_ZMax
                   speedl(Sub3100_Xd,Sub3100_a,t=Sub3100_t)
                 stopl(Sub3100_d)
               Else
                 speedl(Sub3100_Xd,Sub3100_a,t=Sub3100_t)
             ElseIf (7≤Sub3100_Option and Sub3100_Option≤12)
               '7:RX+,8:RX-,9:RY+,10:RY-,11:RZ+,12:RZ-'
               Sub3100_Xd[Sub3100_q]=d2r(Sub3100_XdRot)*Sub3100_e
               speedl(Sub3100_Xd,Sub3100_aRot,Sub3100_t)
             ElseIf (Sub3100_Option≟13 or Sub3100_Option≟14)
               '13:TZ+,14:TZ-'
               'Sub3100_curr:=CurrPos_p'
               Sub3100_curr:=pose_trans(CurrPos, TCP3100TL)
               var_1:=p[0.,0.,0.,0.,0.,0.]
               var_1[Sub3100_q-4]=0.25*Sub3100_e
               forceON:=pose_sub(pose_trans(Sub3100_curr,var_1),Sub3100_curr)
               var_3:=0
               ループ6回
                 Sub3100_Xd[var_3]=forceON[var_3]
                 var_3:=var_3+1
               speedl(Sub3100_Xd,Sub3100_a,Sub3100_t)
         stopl(Sub3100_d)
       ElseIf (Sub3100_Option≤44)
         'FORCE'
         If文 GPBI_PrgRun
           設定 GPBO_PrgRun= True 
           If文 GPBI_BLLoad1
             If文 (33≤Sub3100_Option and Sub3100_Option≤36)
               荷重の設定: k05
             ElseIf (37≤Sub3100_Option and Sub3100_Option≤38)
               荷重の設定: k05
             ElseIf (39≤Sub3100_Option and Sub3100_Option≤44)
               荷重の設定: k05
           Else
             If文 (33≤Sub3100_Option and Sub3100_Option≤36)
               荷重の設定: k05
             ElseIf (37≤Sub3100_Option and Sub3100_Option≤38)
               荷重の設定: k05
             ElseIf (39≤Sub3100_Option and Sub3100_Option≤44)
               荷重の設定: k05
           If文 (Sub3100_Option≟33)
             '33:X+'
             フォース
               待機 GPBI_PrgRun=LO
           ElseIf (Sub3100_Option≟34)
             '34:X-'
             フォース
               待機 GPBI_PrgRun=LO
           ElseIf (Sub3100_Option≟35)
             '35:Y+'
             フォース
               待機 GPBI_PrgRun=LO
           ElseIf (Sub3100_Option≟36)
             '36:Y-'
             フォース
               待機 GPBI_PrgRun=LO
           ElseIf (Sub3100_Option≟37)
             '37:Z+'
             フォース
               待機 GPBI_PrgRun=LO
           ElseIf (Sub3100_Option≟38)
             '38:Z-'
             フォース
               待機 GPBI_PrgRun=LO
           ElseIf (Sub3100_Option≟39)
             '39:RX+'
             フォース
               待機 GPBI_PrgRun=LO
           ElseIf (Sub3100_Option≟40)
             '40:RX-'
             フォース
               待機 GPBI_PrgRun=LO
           ElseIf (Sub3100_Option≟41)
             '41:RY+'
             フォース
               待機 GPBI_PrgRun=LO
           ElseIf (Sub3100_Option≟42)
             '42:RY-'
             フォース
               待機 GPBI_PrgRun=LO
           ElseIf (Sub3100_Option≟43)
             '43:RZ+'
             フォース
               待機 GPBI_PrgRun=LO
           ElseIf (Sub3100_Option≟44)
             '44:RZ-'
             フォース
               待機 GPBI_PrgRun=LO
       ElseIf (Sub3100_Option≥90)
         'FREEDRIVE'
         If文 GPBI_PrgRun
           設定 GPBO_PrgRun= True 
           If文 GPBI_BLLoad1
             荷重の設定: k05
           Else
             荷重の設定: k05
           If文 (Sub3100_Option≟90)
             '90:FreeDrive'
             freedrive_mode()
             待機 GPBI_PrgRun=LO
             end_freedrive_mode()
       stopl(Sub3100_d)
       待機: 0.01
       荷重の設定: k10
       設定 GPBO_PrgRun= False 
